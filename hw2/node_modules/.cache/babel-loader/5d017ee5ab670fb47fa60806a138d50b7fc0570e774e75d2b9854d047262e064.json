{"ast":null,"code":"import React,{useState}from'react';import{CSVLink}from'react-csv';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EmployeeSearch=()=>{const[employeeId,setEmployeeId]=useState('');const[name,setName]=useState('');const[department,setDepartment]=useState('');const[position,setPosition]=useState('');const[employeeList,setEmployeeList]=useState([]);const[filteredData,setFilteredData]=useState([]);const[selectedEmployees,setSelectedEmployees]=useState([]);// 用於添加新的員工\nconst handleAddEmployee=()=>{const newEmployee={employeeId,name,department,position};setEmployeeList([...employeeList,newEmployee]);setFilteredData([...employeeList,newEmployee]);setEmployeeId('');setName('');setDepartment('');setPosition('');};// 用於篩選員工\nconst handleSearch=()=>{const results=employeeList.filter(emp=>(employeeId===''||emp.employeeId.includes(employeeId))&&(name===''||emp.name.includes(name))&&(department===''||emp.department.includes(department))&&(position===''||emp.position.includes(position)));setFilteredData(results);};// 用於選取員工\nconst handleSelectEmployee=employee=>{if(selectedEmployees.includes(employee)){setSelectedEmployees(selectedEmployees.filter(emp=>emp!==employee));}else{setSelectedEmployees([...selectedEmployees,employee]);}};const headers=[{label:\"Employee ID\",key:\"employeeId\"},{label:\"Name\",key:\"name\"},{label:\"Department\",key:\"department\"},{label:\"Position\",key:\"position\"}];return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Employee Management\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add Employee\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Employee ID:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:employeeId,onChange:e=>setEmployeeId(e.target.value)})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:e=>setName(e.target.value)})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Department:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:department,onChange:e=>setDepartment(e.target.value)})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Position:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:position,onChange:e=>setPosition(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddEmployee,children:\"Add Employee\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Search Employees\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Employee ID:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:employeeId,onChange:e=>setEmployeeId(e.target.value)})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:e=>setName(e.target.value)})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Department:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:department,onChange:e=>setDepartment(e.target.value)})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Position:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:position,onChange:e=>setPosition(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearch,children:\"Search\"})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Search Results\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Select\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Employee ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Department\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Position\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredData.length>0?filteredData.map((emp,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedEmployees.includes(emp),onChange:()=>handleSelectEmployee(emp)})}),/*#__PURE__*/_jsx(\"td\",{children:emp.employeeId}),/*#__PURE__*/_jsx(\"td\",{children:emp.name}),/*#__PURE__*/_jsx(\"td\",{children:emp.department}),/*#__PURE__*/_jsx(\"td\",{children:emp.position})]},index)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",children:\"No results found\"})})})]}),selectedEmployees.length>0&&/*#__PURE__*/_jsx(CSVLink,{data:selectedEmployees,headers:headers,filename:\"selected_employees.csv\",children:\"Download Selected Employees as CSV\"})]});};export default EmployeeSearch;","map":{"version":3,"names":["React","useState","CSVLink","jsx","_jsx","jsxs","_jsxs","EmployeeSearch","employeeId","setEmployeeId","name","setName","department","setDepartment","position","setPosition","employeeList","setEmployeeList","filteredData","setFilteredData","selectedEmployees","setSelectedEmployees","handleAddEmployee","newEmployee","handleSearch","results","filter","emp","includes","handleSelectEmployee","employee","headers","label","key","children","type","value","onChange","e","target","onClick","length","map","index","checked","colSpan","data","filename"],"sources":["C:/Users/pinji/Documents/GitHub/Web-Repo/hw2/src/EmployeeSearch.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { CSVLink } from 'react-csv';\r\n\r\nconst EmployeeSearch = () => {\r\n  const [employeeId, setEmployeeId] = useState('');\r\n  const [name, setName] = useState('');\r\n  const [department, setDepartment] = useState('');\r\n  const [position, setPosition] = useState('');\r\n  const [employeeList, setEmployeeList] = useState([]);\r\n  const [filteredData, setFilteredData] = useState([]);\r\n  const [selectedEmployees, setSelectedEmployees] = useState([]);\r\n\r\n  // 用於添加新的員工\r\n  const handleAddEmployee = () => {\r\n    const newEmployee = {\r\n      employeeId,\r\n      name,\r\n      department,\r\n      position\r\n    };\r\n    setEmployeeList([...employeeList, newEmployee]);\r\n    setFilteredData([...employeeList, newEmployee]);\r\n    setEmployeeId('');\r\n    setName('');\r\n    setDepartment('');\r\n    setPosition('');\r\n  };\r\n\r\n  // 用於篩選員工\r\n  const handleSearch = () => {\r\n    const results = employeeList.filter(emp =>\r\n      (employeeId === '' || emp.employeeId.includes(employeeId)) &&\r\n      (name === '' || emp.name.includes(name)) &&\r\n      (department === '' || emp.department.includes(department)) &&\r\n      (position === '' || emp.position.includes(position))\r\n    );\r\n    setFilteredData(results);\r\n  };\r\n\r\n  // 用於選取員工\r\n  const handleSelectEmployee = (employee) => {\r\n    if (selectedEmployees.includes(employee)) {\r\n      setSelectedEmployees(selectedEmployees.filter(emp => emp !== employee));\r\n    } else {\r\n      setSelectedEmployees([...selectedEmployees, employee]);\r\n    }\r\n  };\r\n\r\n  const headers = [\r\n    { label: \"Employee ID\", key: \"employeeId\" },\r\n    { label: \"Name\", key: \"name\" },\r\n    { label: \"Department\", key: \"department\" },\r\n    { label: \"Position\", key: \"position\" }\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <h1>Employee Management</h1>\r\n\r\n      {/* 員工資料輸入區域 */}\r\n      <div>\r\n        <h2>Add Employee</h2>\r\n        <label>\r\n          Employee ID:\r\n          <input\r\n            type=\"text\"\r\n            value={employeeId}\r\n            onChange={(e) => setEmployeeId(e.target.value)}\r\n          />\r\n        </label>\r\n\r\n        <label>\r\n          Name:\r\n          <input\r\n            type=\"text\"\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n          />\r\n        </label>\r\n\r\n        <label>\r\n          Department:\r\n          <input\r\n            type=\"text\"\r\n            value={department}\r\n            onChange={(e) => setDepartment(e.target.value)}\r\n          />\r\n        </label>\r\n\r\n        <label>\r\n          Position:\r\n          <input\r\n            type=\"text\"\r\n            value={position}\r\n            onChange={(e) => setPosition(e.target.value)}\r\n          />\r\n        </label>\r\n\r\n        <button onClick={handleAddEmployee}>Add Employee</button>\r\n      </div>\r\n\r\n      {/* 員工資料查詢區域 */}\r\n      <div>\r\n        <h2>Search Employees</h2>\r\n        <label>\r\n          Employee ID:\r\n          <input\r\n            type=\"text\"\r\n            value={employeeId}\r\n            onChange={(e) => setEmployeeId(e.target.value)}\r\n          />\r\n        </label>\r\n\r\n        <label>\r\n          Name:\r\n          <input\r\n            type=\"text\"\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n          />\r\n        </label>\r\n\r\n        <label>\r\n          Department:\r\n          <input\r\n            type=\"text\"\r\n            value={department}\r\n            onChange={(e) => setDepartment(e.target.value)}\r\n          />\r\n        </label>\r\n\r\n        <label>\r\n          Position:\r\n          <input\r\n            type=\"text\"\r\n            value={position}\r\n            onChange={(e) => setPosition(e.target.value)}\r\n          />\r\n        </label>\r\n\r\n        <button onClick={handleSearch}>Search</button>\r\n      </div>\r\n\r\n      {/* 顯示查詢結果 */}\r\n      <h2>Search Results</h2>\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>Select</th>\r\n            <th>Employee ID</th>\r\n            <th>Name</th>\r\n            <th>Department</th>\r\n            <th>Position</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {filteredData.length > 0 ? (\r\n            filteredData.map((emp, index) => (\r\n              <tr key={index}>\r\n                <td>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={selectedEmployees.includes(emp)}\r\n                    onChange={() => handleSelectEmployee(emp)}\r\n                  />\r\n                </td>\r\n                <td>{emp.employeeId}</td>\r\n                <td>{emp.name}</td>\r\n                <td>{emp.department}</td>\r\n                <td>{emp.position}</td>\r\n              </tr>\r\n            ))\r\n          ) : (\r\n            <tr>\r\n              <td colSpan=\"5\">No results found</td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n\r\n      {/* 下載選取的員工資料為 CSV */}\r\n      {selectedEmployees.length > 0 && (\r\n        <CSVLink\r\n          data={selectedEmployees}\r\n          headers={headers}\r\n          filename={\"selected_employees.csv\"}\r\n        >\r\n          Download Selected Employees as CSV\r\n        </CSVLink>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmployeeSearch;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}