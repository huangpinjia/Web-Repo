{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pinji\\\\Documents\\\\Introduction to the Internet\\\\final_project\\\\my-app\\\\src\\\\InvoiceGenerator.js\",\n  _s = $RefreshSig$();\n// InvoiceGenerator.js\nimport React, { useState } from 'react';\nimport jsPDF from 'jspdf';\nimport 'jspdf-autotable';\nimport { CSVLink } from 'react-csv';\nimport Axios from 'axios';\nimport './InvoiceGenerator.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction InvoiceGenerator() {\n  _s();\n  const [items, setItems] = useState([]);\n  const [itemName, setItemName] = useState('');\n  const [amount, setAmount] = useState('');\n  const [quantity, setQuantity] = useState('');\n  const [total, setTotal] = useState(0);\n\n  // 添加项目到列表\n  const addItem = () => {\n    const itemTotal = parseFloat(amount) * parseInt(quantity);\n    const newItem = {\n      name: itemName,\n      amount: parseFloat(amount),\n      quantity: parseInt(quantity),\n      total: itemTotal\n    };\n    setItems([...items, newItem]);\n    setTotal(total + itemTotal);\n\n    // 清空输入框\n    setItemName('');\n    setAmount('');\n    setQuantity('');\n\n    // 保存到 MySQL 数据库\n    Axios.post('http://localhost:3001/addItem', newItem).then(() => {\n      console.log('Item added to database successfully!');\n    }).catch(error => {\n      console.error('Error adding item to database:', error);\n    });\n  };\n\n  // 导出为 PDF\n  const downloadPDF = () => {\n    const doc = new jsPDF();\n    doc.text('Invoice', 14, 10);\n    doc.autoTable({\n      head: [['Item Name', 'Amount', 'Quantity', 'Total']],\n      body: items.map(item => [item.name, item.amount.toFixed(2), item.quantity, item.total.toFixed(2)])\n    });\n    doc.text(`Total: ${total.toFixed(2)}`, 14, doc.lastAutoTable.finalY + 10);\n    doc.save('invoice.pdf');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"invoice-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Invoice Generator\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Item Name\",\n        value: itemName,\n        onChange: e => setItemName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"Amount\",\n        value: amount,\n        onChange: e => setAmount(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"Quantity\",\n        value: quantity,\n        onChange: e => setQuantity(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addItem,\n        children: \"Add Item\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: items.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: `${item.name}: $${item.amount.toFixed(2)} x ${item.quantity} = $${item.total.toFixed(2)}`\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"total\",\n      children: [\"Total: $\", total.toFixed(2)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"actions\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: downloadPDF,\n        children: \"Download PDF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CSVLink, {\n        data: items,\n        filename: \"invoice.csv\",\n        className: \"btn\",\n        children: \"Download CSV\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n}\n_s(InvoiceGenerator, \"lzOyKsLgfGUHwFLBV1bwWMgwxcs=\");\n_c = InvoiceGenerator;\nexport default InvoiceGenerator;\nvar _c;\n$RefreshReg$(_c, \"InvoiceGenerator\");","map":{"version":3,"names":["React","useState","jsPDF","CSVLink","Axios","jsxDEV","_jsxDEV","InvoiceGenerator","_s","items","setItems","itemName","setItemName","amount","setAmount","quantity","setQuantity","total","setTotal","addItem","itemTotal","parseFloat","parseInt","newItem","name","post","then","console","log","catch","error","downloadPDF","doc","text","autoTable","head","body","map","item","toFixed","lastAutoTable","finalY","save","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onClick","index","data","filename","_c","$RefreshReg$"],"sources":["C:/Users/pinji/Documents/Introduction to the Internet/final_project/my-app/src/InvoiceGenerator.js"],"sourcesContent":["// InvoiceGenerator.js\r\nimport React, { useState } from 'react';\r\nimport jsPDF from 'jspdf';\r\nimport 'jspdf-autotable';\r\nimport { CSVLink } from 'react-csv';\r\nimport Axios from 'axios';\r\nimport './InvoiceGenerator.css';\r\n\r\nfunction InvoiceGenerator() {\r\n    const [items, setItems] = useState([]);\r\n    const [itemName, setItemName] = useState('');\r\n    const [amount, setAmount] = useState('');\r\n    const [quantity, setQuantity] = useState('');\r\n    const [total, setTotal] = useState(0);\r\n\r\n    // 添加项目到列表\r\n    const addItem = () => {\r\n        const itemTotal = parseFloat(amount) * parseInt(quantity);\r\n        const newItem = { name: itemName, amount: parseFloat(amount), quantity: parseInt(quantity), total: itemTotal };\r\n        setItems([...items, newItem]);\r\n        setTotal(total + itemTotal);\r\n\r\n        // 清空输入框\r\n        setItemName('');\r\n        setAmount('');\r\n        setQuantity('');\r\n\r\n        // 保存到 MySQL 数据库\r\n        Axios.post('http://localhost:3001/addItem', newItem)\r\n            .then(() => {\r\n                console.log('Item added to database successfully!');\r\n            })\r\n            .catch((error) => {\r\n                console.error('Error adding item to database:', error);\r\n            });\r\n    };\r\n\r\n    // 导出为 PDF\r\n    const downloadPDF = () => {\r\n        const doc = new jsPDF();\r\n        doc.text('Invoice', 14, 10);\r\n        doc.autoTable({\r\n            head: [['Item Name', 'Amount', 'Quantity', 'Total']],\r\n            body: items.map(item => [item.name, item.amount.toFixed(2), item.quantity, item.total.toFixed(2)]),\r\n        });\r\n        doc.text(`Total: ${total.toFixed(2)}`, 14, doc.lastAutoTable.finalY + 10);\r\n        doc.save('invoice.pdf');\r\n    };\r\n\r\n    return (\r\n        <div className=\"invoice-container\">\r\n            <h2>Invoice Generator</h2>\r\n            <div className=\"input-group\">\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Item Name\"\r\n                    value={itemName}\r\n                    onChange={(e) => setItemName(e.target.value)}\r\n                />\r\n                <input\r\n                    type=\"number\"\r\n                    placeholder=\"Amount\"\r\n                    value={amount}\r\n                    onChange={(e) => setAmount(e.target.value)}\r\n                />\r\n                <input\r\n                    type=\"number\"\r\n                    placeholder=\"Quantity\"\r\n                    value={quantity}\r\n                    onChange={(e) => setQuantity(e.target.value)}\r\n                />\r\n                <button onClick={addItem}>Add Item</button>\r\n            </div>\r\n            <ul>\r\n                {items.map((item, index) => (\r\n                    <li key={index}>{`${item.name}: $${item.amount.toFixed(2)} x ${item.quantity} = $${item.total.toFixed(2)}`}</li>\r\n                ))}\r\n            </ul>\r\n            <div className=\"total\">Total: ${total.toFixed(2)}</div>\r\n            <div className=\"actions\">\r\n                <button onClick={downloadPDF}>Download PDF</button>\r\n                <CSVLink data={items} filename=\"invoice.csv\" className=\"btn\">Download CSV</CSVLink>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default InvoiceGenerator;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}